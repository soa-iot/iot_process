<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>测试跨域-内</title>
<style type="text/css"></style>
</head>
<body>
<script>
    // 接收domain1的数据
    window.addEventListener('message', function(e) {
        alert('data from domain1 ---> ' + e.data);
		console.log(e.data);
        var data = JSON.parse(e.data);
        if (data) {
            data.number = 16;

            // 处理后再发回domain1
            window.parent.postMessage(JSON.stringify(data), 'http://localhost:10238');
        }
    }, false);
</script>
</body>
</html>